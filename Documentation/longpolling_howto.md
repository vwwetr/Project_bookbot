# ü§ñ Telegram Bot ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

## 1. Long Polling

**–ß—Ç–æ —ç—Ç–æ:**  
–ë–æ—Ç —Å–∞–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram (`getUpdates`), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**  
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç `GET https://api.telegram.org/bot<TOKEN>/getUpdates?timeout=30`  
- Telegram –æ—Ç–≤–µ—á–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ  
- –¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ  

**–ü–ª—é—Å—ã:**  
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –±–µ–ª–æ–≥–æ IP  
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç HTTPS  
- –£–¥–æ–±–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  

**–ú–∏–Ω—É—Å—ã:**  
- –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (1‚Äì2 —Å–µ–∫—É–Ω–¥—ã)  
- –ù–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞  

---

## 2. Webhook

**–ß—Ç–æ —ç—Ç–æ:**  
Telegram —Å–∞–º –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç—É –ø–æ HTTPS POST –∑–∞–ø—Ä–æ—Å–∞–º.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**  
- –¢—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—à—å URL webhook —á–µ—Ä–µ–∑ `setWebhook`  
- Telegram —à–ª—ë—Ç –∑–∞–ø—Ä–æ—Å—ã `POST /webhook` –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–±—ã—Ç–∏–∏  
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç `200 OK`

**–ü–ª—é—Å—ã:**  
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π  
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞  
- –ú–æ–∂–Ω–æ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫  

**–ú–∏–Ω—É—Å—ã:**  
- –¢—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ HTTPS  
- –ù—É–∂–µ–Ω –±–µ–ª—ã–π IP –∏–ª–∏ —Ç—É–Ω–Ω–µ–ª—å  

---

## 3. Ngrok

**–ß—Ç–æ —ç—Ç–æ:**  
–°–µ—Ä–≤–∏—Å, —Å–æ–∑–¥–∞—é—â–∏–π –ø—É–±–ª–∏—á–Ω—ã–π HTTPS-—Ç—É–Ω–Ω–µ–ª—å –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –ø–æ—Ä—Ç—É.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**  
1. –õ–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç —Å–ª—É—à–∞–µ—Ç `localhost:8080`  
2. –ö–æ–º–∞–Ω–¥–∞ `ngrok http 8080` —Å–æ–∑–¥–∞—ë—Ç URL –≤–∏–¥–∞  
   `https://a1b2c3d4.ngrok.io`  
3. Telegram —à–ª—ë—Ç webhook –Ω–∞ —ç—Ç–æ—Ç URL  
4. Ngrok –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç  

**–ü–ª—é—Å—ã:**  
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –±–µ–ª–æ–≥–æ IP  
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTTPS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
- –£–¥–æ–±–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è webhook  

**–ú–∏–Ω—É—Å—ã:**  
- URL –º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏)  
- –¢—É–Ω–Ω–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ  

---

## 4. Telegram Bot API

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π webhook
curl https://api.telegram.org/bot<TOKEN>/getWebhookInfo

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook
curl -F "url=https://<—Ç–≤–æ–π_URL>/webhook" https://api.telegram.org/bot<TOKEN>/setWebhook

# –£–¥–∞–ª–∏—Ç—å webhook (–ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ polling)
curl https://api.telegram.org/bot<TOKEN>/deleteWebhook

